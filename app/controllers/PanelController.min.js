define(["exports"],function(exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PanelController=function(){function PanelController($rootScope,$scope,mdPanelRef,$timeout,$compile,$log,$q,$templateRequest,$templateCache,targetScope,$translate){_classCallCheck(this,PanelController),this.$rootScope=$rootScope,this.$scope=$scope,this.$timeout=$timeout,this.$compile=$compile,this.$log=$log,this.$q=$q,this.$templateRequest=$templateRequest,this.$templateCache=$templateCache,this.$translate=$translate,this.$scope.mdPanelRef=mdPanelRef,this.$scope.targetScope=targetScope,this.$scope.loaded=!1,this.$scope.draggable=!0,this.$scope.collapsableLeft=!1,this.$scope.collapsableRight=!1,this.$scope.collapsed=!1,this.$scope.maximizeable=!1,this.$scope.minimizeable=!0,this.$scope.minimized=!1,this.$scope.closeable=!0,this.$scope.expanded=!0,this.$scope.maxHeight="600px",this.$scope.maxWidth="1000px",this.$scope.oldPosition={},this.initEventListeners(),this.initializePromise=this.initElement()}return _createClass(PanelController,[{key:"getTemplateFile",value:function(){return""}},{key:"getTemplateUrl",value:function(){return this.$rootScope.templateBaseUrl+"/panel/"+this.getTemplateFile()}},{key:"initEventListeners",value:function(){this.$scope.$on("beforePagePreview",this.beforePagePreview.bind(this)),this.$scope.$on("remove",this.close.bind(this))}},{key:"beforePagePreview",value:function(){this.minimize(),this.collapse()}},{key:"collapse",value:function(){this.$scope.mdPanelRef.panelEl.addClass("panel-collapsed").addClass(this.$scope.collapsableLeft?"panel-collapsed-left":"panel-collapsed-right"),this.$scope.collapsed=!0,this.$rootScope.$safeApply(this.$scope)}},{key:"expand",value:function(){this.$scope.mdPanelRef.panelEl.removeClass("panel-collapsed").removeClass(this.$scope.collapsableLeft?"panel-collapsed-left":"panel-collapsed-right"),this.$scope.collapsed=!1,this.$rootScope.$safeApply(this.$scope)}},{key:"toggleCollapse",value:function(){this.$scope.collapsed?this.expand():this.collapse()}},{key:"initElement",value:function(){var _this=this,deferred=this.$q.defer();return this.$timeout(function(){_this.$scope.mdPanelRef.panelContainer.css("position","fixed"),_this.$scope.mdPanelRef.panelEl.on("focus",_this.onFocus.bind(_this)).on("blur",_this.onBlur.bind(_this)),_this.$scope.collapsableLeft?_this.$scope.mdPanelRef.panelEl.addClass("panel-collapseable-left"):_this.$scope.collapsableRight&&_this.$scope.mdPanelRef.panelEl.addClass("panel-collapseable-right"),_this.$scope.draggable&&_this.$scope.mdPanelRef.panelEl.draggable({scroll:!0,handle:"md-toolbar",start:function(e){_this.$scope.mdPanelRef.panelEl.css({transition:"none"}),_this.onFocus(e)},stop:function(){_this.$scope.mdPanelRef.panelEl.css({transition:""})}}),deferred.resolve()}),deferred.promise}},{key:"onClose",value:function(){this.onBlur(),this.$rootScope.$emit("panelRemoveFromBar",{scope:this.$scope}),this.$scope.mdPanelRef.destroy()}},{key:"onBlur",value:function(e){this.$scope.mdPanelRef.panelEl.removeClass("panel-focused"),this.$scope.mdPanelRef.panelContainer.css({"z-index":99})}},{key:"onFocus",value:function(e){jQuery(".panel-focused").removeClass("panel-focused"),this.$scope.mdPanelRef.panelEl.addClass("panel-focused"),this.$scope.mdPanelRef.panelContainer.css({"z-index":100})}},{key:"hide",value:function(){this.close()}},{key:"cancel",value:function(){this.close()}},{key:"close",value:function(){this.$scope.mdPanelRef.close().then(this.onClose.bind(this))}},{key:"maximize",value:function(){if(this.$scope.maximizeable!==!1){this.$scope.minimizeable=!0,this.$scope.maximizeable=!1,this.$scope.minimized=!1;var el=this.$scope.mdPanelRef.panelEl;this.$scope.draggable&&el.draggable("enable"),this.$rootScope.$emit("panelRemoveFromBar",{scope:this.$scope})}}},{key:"minimize",value:function(){if(this.$scope.minimizeable!==!1){this.$scope.minimizeable=!1,this.$scope.maximizeable=!0,this.$scope.minimized=!0;var el=this.$scope.mdPanelRef.panelEl;this.$scope.draggable&&el.draggable("disable"),this.$rootScope.$emit("panelAddToBar",{scope:this.$scope,position:{left:el.css("left"),top:el.css("top")},positionElement:el,sizeElement:el.find("md-toolbar").first()})}}},{key:"onLoaded",value:function(){this.$scope.loaded=!0,this.$scope.$broadcast("loaded")}}]),PanelController}();exports["default"]=PanelController}),define(["exports"],function(exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PanelController=function(){function PanelController($rootScope,$scope,mdPanelRef,$timeout,$compile,$log,$q,$templateRequest,$templateCache,targetScope,$translate){_classCallCheck(this,PanelController),this.$rootScope=$rootScope,this.$scope=$scope,this.$timeout=$timeout,this.$compile=$compile,this.$log=$log,this.$q=$q,this.$templateRequest=$templateRequest,this.$templateCache=$templateCache,this.$translate=$translate,this.$scope.mdPanelRef=mdPanelRef,this.$scope.targetScope=targetScope,this.$scope.loaded=!1,this.$scope.draggable=!0,this.$scope.collapsableLeft=!1,this.$scope.collapsableRight=!1,this.$scope.collapsed=!1,this.$scope.maximizeable=!1,this.$scope.minimizeable=!0,this.$scope.minimized=!1,this.$scope.closeable=!0,this.$scope.expanded=!0,this.$scope.maxHeight="600px",this.$scope.maxWidth="1000px",this.$scope.oldPosition={},this.initEventListeners(),this.initializePromise=this.initElement()}return _createClass(PanelController,[{key:"getTemplateFile",value:function(){return""}},{key:"getTemplateUrl",value:function(){return this.$rootScope.templateBaseUrl+"/panel/"+this.getTemplateFile()}},{key:"initEventListeners",value:function(){this.$scope.$on("beforePagePreview",this.beforePagePreview.bind(this)),this.$scope.$on("remove",this.close.bind(this))}},{key:"beforePagePreview",value:function(){this.minimize(),this.collapse()}},{key:"collapse",value:function(){this.$scope.mdPanelRef.panelEl.addClass("panel-collapsed").addClass(this.$scope.collapsableLeft?"panel-collapsed-left":"panel-collapsed-right"),this.$scope.collapsed=!0,this.$rootScope.$safeApply(this.$scope)}},{key:"expand",value:function(){this.$scope.mdPanelRef.panelEl.removeClass("panel-collapsed").removeClass(this.$scope.collapsableLeft?"panel-collapsed-left":"panel-collapsed-right"),this.$scope.collapsed=!1,this.$rootScope.$safeApply(this.$scope)}},{key:"toggleCollapse",value:function(){this.$scope.collapsed?this.expand():this.collapse()}},{key:"initElement",value:function(){var _this=this,deferred=this.$q.defer();return this.$timeout(function(){_this.$scope.mdPanelRef.panelContainer.css("position","fixed"),_this.$scope.mdPanelRef.panelEl.on("focus",_this.onFocus.bind(_this)).on("blur",_this.onBlur.bind(_this)),_this.$scope.collapsableLeft?_this.$scope.mdPanelRef.panelEl.addClass("panel-collapseable-left"):_this.$scope.collapsableRight&&_this.$scope.mdPanelRef.panelEl.addClass("panel-collapseable-right"),_this.$scope.draggable&&_this.$scope.mdPanelRef.panelEl.draggable({scroll:!0,handle:"md-toolbar",start:function(e){_this.$scope.mdPanelRef.panelEl.css({transition:"none"}),_this.onFocus(e)},stop:function(){_this.$scope.mdPanelRef.panelEl.css({transition:""})}}),deferred.resolve()}),deferred.promise}},{key:"onClose",value:function(){this.onBlur(),this.$rootScope.$emit("panelRemoveFromBar",{scope:this.$scope}),this.$scope.mdPanelRef.destroy()}},{key:"onBlur",value:function(e){this.$scope.mdPanelRef.panelEl.removeClass("panel-focused"),this.$scope.mdPanelRef.panelContainer.css({"z-index":99})}},{key:"onFocus",value:function(e){jQuery(".panel-focused").removeClass("panel-focused"),this.$scope.mdPanelRef.panelEl.addClass("panel-focused"),this.$scope.mdPanelRef.panelContainer.css({"z-index":100})}},{key:"hide",value:function(){this.close()}},{key:"cancel",value:function(){this.close()}},{key:"close",value:function(){this.$scope.mdPanelRef.close().then(this.onClose.bind(this))}},{key:"maximize",value:function(){if(this.$scope.maximizeable!==!1){this.$scope.minimizeable=!0,this.$scope.maximizeable=!1,this.$scope.minimized=!1;var el=this.$scope.mdPanelRef.panelEl;this.$scope.draggable&&el.draggable("enable"),this.$rootScope.$emit("panelRemoveFromBar",{scope:this.$scope})}}},{key:"minimize",value:function(){if(this.$scope.minimizeable!==!1){this.$scope.minimizeable=!1,this.$scope.maximizeable=!0,this.$scope.minimized=!0;var el=this.$scope.mdPanelRef.panelEl;this.$scope.draggable&&el.draggable("disable"),this.$rootScope.$emit("panelAddToBar",{scope:this.$scope,position:{left:el.css("left"),top:el.css("top")},positionElement:el,sizeElement:el.find("md-toolbar").first()})}}},{key:"onLoaded",value:function(){this.$scope.loaded=!0,this.$scope.$broadcast("loaded")}}]),PanelController}();exports["default"]=PanelController});