define(["exports"],function(exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ImageSelectController=function(){function ImageSelectController($rootScope,$scope,$element,$q,$log,Upload,$mdToast,$translate){_classCallCheck(this,ImageSelectController),this.$rootScope=$rootScope,this.$q=$q,this.$log=$log,this.Upload=Upload,this.$mdToast=$mdToast,this.$translate=$translate,this.$scope=$scope,this.$scope.$element=$element,this.$scope.progress=null,this.$scope.name=null,this.initEventListeners()}return _createClass(ImageSelectController,[{key:"initEventListeners",value:function(){this.$scope.$on("uploadStart",this.upload.bind(this))}},{key:"preview",value:function(){var _this=this;this.Upload.dataUrl(this.$scope.file).then(function(url){var d={};d[_this.$scope.name]=url,_this.$scope.$emit("onPreviewData",{scope:_this.$scope,data:d})})}},{key:"upload",value:function(event,mass){var _this2=this;"undefined"!=typeof this.$scope.file?this.Upload.upload({url:this.$rootScope.imageUploadUrl,data:{file:this.$scope.file}}).then(function(resp){_this2.$scope.progress=null;var d={};d[_this2.$scope.name]=resp.data.url,_this2.$scope.$emit("uploadDone",{data:d})},function(resp){_this2.$translate("Error while uploading").then(function(translated){_this2.$mdToast.show(_this2.$mdToast.simple().textContent(translated+" Code: "+resp.status).position("bottom left").hideDelay(3e3))})},function(evt){_this2.$scope.progress=parseInt(100*evt.loaded/evt.total)}):this.$scope.$emit("uploadDone",{data:{}})}}]),ImageSelectController}();exports["default"]=ImageSelectController}),define(["exports"],function(exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ImageSelectController=function(){function ImageSelectController($rootScope,$scope,$element,$q,$log,Upload,$mdToast,$translate){_classCallCheck(this,ImageSelectController),this.$rootScope=$rootScope,this.$q=$q,this.$log=$log,this.Upload=Upload,this.$mdToast=$mdToast,this.$translate=$translate,this.$scope=$scope,this.$scope.$element=$element,this.$scope.progress=null,this.$scope.name=null,this.initEventListeners()}return _createClass(ImageSelectController,[{key:"initEventListeners",value:function(){this.$scope.$on("uploadStart",this.upload.bind(this))}},{key:"preview",value:function(){var _this=this;this.Upload.dataUrl(this.$scope.file).then(function(url){var d={};d[_this.$scope.name]=url,_this.$scope.$emit("onPreviewData",{scope:_this.$scope,data:d})})}},{key:"upload",value:function(event,mass){var _this2=this;"undefined"!=typeof this.$scope.file?this.Upload.upload({url:this.$rootScope.imageUploadUrl,data:{file:this.$scope.file}}).then(function(resp){_this2.$scope.progress=null;var d={};d[_this2.$scope.name]=resp.data.url,_this2.$scope.$emit("uploadDone",{data:d})},function(resp){_this2.$translate("Error while uploading").then(function(translated){_this2.$mdToast.show(_this2.$mdToast.simple().textContent(translated+" Code: "+resp.status).position("bottom left").hideDelay(3e3))})},function(evt){_this2.$scope.progress=parseInt(100*evt.loaded/evt.total)}):this.$scope.$emit("uploadDone",{data:{}})}}]),ImageSelectController}();exports["default"]=ImageSelectController});