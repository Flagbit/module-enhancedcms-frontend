define(["exports","jquery"],function(exports,_jquery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=_interopRequireDefault(_jquery),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Widget=function(){function Widget($scope,$templateCache,$q,$interpolate,$compile,$mdDialog,data,url){var globalData=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};_classCallCheck(this,Widget),this.$scope=$scope,this.$templateCache=$templateCache,this.$q=$q,this.$interpolate=$interpolate,this.$compile=$compile,this.$mdDialog=$mdDialog,this.globalData=globalData,this._data=data,this._url=url,this._templatePromise=null,this._values={},this.initDefaults()}return _createClass(Widget,[{key:"initDefaults",value:function(){var _this=this;this._data.defaults||(this._data.defaults={});var cfg=_jquery2["default"].extend({},this.globalData.config,this.getConfig());_jquery2["default"].each(cfg,function(i,config){if(config.options){var options=config.options;options.defaultValues&&_jquery2["default"].each(options.defaultValues,function(i,value){_this._data.defaults[i]||(_this._data.defaults[i]=value)}),options.value&&(_this._data.defaults[i]||(_this._data.defaults[i]=options.value))}})}},{key:"isPluggable",value:function(){return!!this.getData().pluggable&&this.getData().pluggable}},{key:"getData",value:function(){return!!this._data&&this._data}},{key:"getToolbar",value:function(){return this.getData()&&this.getData().toolbar?this.getData().toolbar:""}},{key:"getName",value:function(){return this.getData().name}},{key:"getTitle",value:function(){return this.getData().title}},{key:"getImage",value:function(){return this.getData().image}},{key:"getCategory",value:function(){return this.getData()&&this.getData().category?this.getData().category:""}},{key:"setCategory",value:function(category){this.getData()||(this._data={}),this._data.category=category}},{key:"getHtml",value:function(){var _this2=this,data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,deferred=this.$q.defer(),html=this.$templateCache.get(this.getName()+".html");if(html){_jquery2["default"].extend({},this.getDefaults(),data?data:{});deferred.resolve(html)}else _jquery2["default"].get(this._url,{widget:this.getName()}).done(function(res){var html=res.html;_this2.$templateCache.put(_this2.getName()+".html",html),deferred.resolve(html)});return deferred.promise}},{key:"isContainer",value:function(){return!1}},{key:"isCarousel",value:function(){return!1}},{key:"getDefaults",value:function(){return this.getData()&&this.getData().defaults?this.getData().defaults:[]}},{key:"getPlugins",value:function(){return this.getData()&&this.getData().plugins?this.getData().plugins:{}}},{key:"getConfig",value:function(){return this.getData()&&this.getData().config?this.getData().config:{}}},{key:"getValues",value:function(){return this._values}},{key:"configure",value:function(element){}}]),Widget}();exports["default"]=Widget});