define(["exports","./AbstractWidgetController.min.js","./PictureDialogController.min.js"],function(exports,_AbstractWidgetControllerMin,_PictureDialogControllerMin){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PictureController=void 0;var _createClass=(_interopRequireDefault(_AbstractWidgetControllerMin),function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}());exports.PictureController=function(){function PictureController($scope,$rootScope,$element,$mdDialog,$timeout){_classCallCheck(this,PictureController),this.$element=$element,this.$mdDialog=$mdDialog,this.$rootScope=$rootScope,this.$scope=$scope,$scope.$watch("data",function(){console.log("+++",$scope.data)}),console.log("+",$scope.data.images),$scope.data.images||(console.log("++",$scope.data.fallback_image),$scope.data.fallback_image&&($scope.data.images={xl:$scope.data.fallback_image})),this.images=this.$scope.data.images||{}}return _createClass(PictureController,[{key:"openDialog",value:function(){this.$mdDialog.show({templateUrl:this.$rootScope.templateBaseUrl+"/dialog/picture-upload.html",clickOutsideToClose:!0,parent:document.body,locals:{images:this.images,scope:this.$scope,rootScope:this.$rootScope},controller:_PictureDialogControllerMin.PictureDialogController.name,controllerAs:"ctrl"})}},{key:"$onInit",value:function(){var _this=this,widgetContainer=this.$element.closest(".ecms-widget-directive");document.body.addEventListener("dblclick",function(e){var clickedWidgetContainer=angular.element(e.target).closest(".ecms-widget-directive");widgetContainer[0]===clickedWidgetContainer[0]&&_this.openDialog.bind(_this)})}}]),PictureController}()});